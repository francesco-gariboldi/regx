# Regular expressions

> [!improtant]
> Regular expressions generally apply to multiple languages, though some differences may appear. These examples were tested in one language but can likely be adapted to Python, JavaScript, R, and others. Usually you only have to change the wrapper charachters around the regular expression, based on the language you're using.

| Aim                                                                                                                                                                                                                                                                                                                                                                       | tested on the following text                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Regex                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Usage                                                                                                                                                                                                                                                                                                                                                                                                                      | Test language           |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------- |
| *Linux full path (filename)(file extension)*                                                                                                                                                                                                                                                                                                                              | /home/user/.bashrc<br>/home/user/Documents/report.doc<br>/var/log/syslog<br>/etc/nginx/nginx.conf<br>/usr/local/bin/script.sh<br>/opt/application/config.yaml<br>/tmp/testfile<br>/dev/null<br>/proc/cpuinfo<br>/mnt/data/files/data.txt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | `(\/\.?\w+)+(\.\w+)?`<br><br>I'm working on the following alternative<br><br>`[\/~](?:[\/A-Za-z]+.*)?\/([^.]\w*?)?(\.\w+)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Matches:<br>capturing group 0: *full path*<br>capturing group 1: *filename*<br>capturing group 2: *extension* ("." is included in the match)                                                                                                                                                                                                                                                                               | ECMAScript (JavaScript) |
| *Same, but for Windows  file system paths*                                                                                                                                                                                                                                                                                                                                | C:\Windows\System32\cmd.exe<br>C:\Program Files (x86)\Mozilla Firefox\firefox.exe<br>C:\Users\JohnDoe\Documents\resume.docx<br>D:\Downloads\installer.exe<br>E:\Music\Pop\track.mp3<br>F:\Projects\Code\main.py<br>C:\Users\Public\Pictures\Sample Pictures\Desert.jpg<br>C:\Windows\Temp\tempfile.tmp<br>D:\Backup\2025\archive.zip<br>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup\launch.lnk                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | `(?:([A-Za-z]+:?).*)?\\(\w+)(\.\w+)`<br>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Matches:<br>capturing group 0: *full path*<br>capturing group 1: *physical or logical drive storage*<br>capturing group 2: *filename*<br>capturing group 3: *extension* ("." is included in the match)                                                                                                                                                                                                                     | ECMAScript (JavaScript) |
| *Templating Engine for markdown content in HTML files (with mathJax)*                                                                                                                                                                                                                                                                                                     | ```<br>...<main class="mathjax_process content-overlay"><br><br>        <main id="md-content" class='mathjax_process'><br><br>            <button id="create-from-template-btn">Create from template</button><br><br>            <script type="module" src="../js_modules/eventHandlers.mjs"></script><br><br>        </main><br><br>    </main>...<br>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `<main\s+id=["']md-content["']\s+class=["']mathjax_process["'][^>]*>([\s\S]*?)<\/main>`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | You must have your templates/pages markdown content in inside the following HTML element:<br>`<main id="md-content" class='mathjax_process'>` or adapt it to your contents wrapper element.<br><br>Capture group with index `[1]`: matches the *markdown content of the html page*                                                                                                                                         | ECMAScript (JavaScript) |
| *HTML title in page/template*                                                                                                                                                                                                                                                                                                                                             | ```html<br><!DOCTYPE html><br><br><html lang="it"><br><br><head><br><br>    <meta charset="UTF-8"><br><br>    <meta name="viewport" content="width=device-width, initial-scale=1.0"><br><br>    <title>home</title>...<br>```                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | `<title>[\s\S]*?<\/title>`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Use the language specific syntax to replace the title inside the `<title>` element                                                                                                                                                                                                                                                                                                                                         | ECMAScript (JavaScript) |
| *URI*<br>In the URI documentation at https://www.rfc-editor.org/rfc/rfc3986#appendix-B, the following regex is suggested for parsing URIs:<br>`^(([^:/?]+):)?//([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?`<br><br>I'm trying to create a URI regex. For now I came up with the following, that should match every URI with a protocol and a domain:<br>`^(\w*:\|\w*).*[^\s]` | C:\Users\Alice\Documents\file.txt<br>D:\Projects\MyApp\bin\debug.exe<br>E:\Photos\Vacation\image.jpg<br>F:\Data\Reports\<br>\Relative\Path\example.txt<br>\\Server\Share\Folder\Document.doc<br>C:/Windows/System32/cmd.exe<br>\ProgramData\MyApp\config.ini<br>Relative\Path\to\file.txt<br>.\Local\bin\script.bat<br>..\UpOneLevel\folder\file.log<br>file:///C:/Program%20Files/Example/app.exe<br>file://localhost/C:/Users/Public/Desktop/shortcut.lnk<br>file://ServerName/SharedFolder/Resource.pdf<br><br>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | `^(\w*:\|\w*).*[^\s]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                                                            | ECMAScript (JavaScript) |
| *Regular expressions for lme4 R package style formulas*                                                                                                                                                                                                                                                                                                                   | "ladder_score ~ freedom_to_make_life_choices + regional_indicator",<br><br>"ladder_score ~ healthy_life_expectancy + regional_indicator",<br><br>"ladder_score ~ freedom_to_make_life_choices + healthy_life_expectancy + regional_indicator",<br><br>"ladder_score ~ freedom_to_make_life_choices:healthy_life_expectancy",<br><br>"ladder_score ~ regional_indicator + (0 + regional_indicator \| healthy_life_expectancy)",<br><br>"ladder_score ~ healthy_life_expectancy + regional_indicator + (0 + regional_indicator \| healthy_life_expectancy)",<br><br>"ladder_score ~ healthy_life_expectancy + (1 \| regional_indicator)",<br><br>"ladder_score ~ healthy_life_expectancy + (1 \| healthy_life_expectancy)",<br><br>"ladder_score ~ healthy_life_expectancy + (healthy_life_expectancy \| regional_indicator)",<br><br>"ladder_score ~ healthy_life_expectancy + regional_indicator + (1 \| regional_indicator)",<br><br>"ladder_score ~ 1 + (0 + healthy_life_expectancy \| regional_indicator)",<br><br>...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `\(\s*((?:0/1\|\w+)(?:\s*\+\s*(?:0/1\|\w+))*)\s*\|\s*(\w+)\s*\)$`<br>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Regular expression patterns (for raw strings) for miscellaneous tasks<br><br>In a general lmer4 formula structure as:<br>response_variable ~ fixed_effects + (random_structure \| grouping_variable)<br><br>Matches: *the random and the grouping variables in the formula*<br><br>*random variables* = match.group(1)  # e.g., "0/1 + var1 + var2"<br><br>*grouping variable* = match.group(2)     # e.g., "grouping_var" | Python                  |
| email addresses                                                                                                                                                                                                                                                                                                                                                           | [simple@example.com](mailto:simple@example.com)  <br>[very.common@example.com](mailto:very.common@example.com)  <br>[disposable.style.email.with+symbol@example.com](mailto:disposable.style.email.with+symbol@example.com)  <br>[other.email-with-dash@example.com](mailto:other.email-with-dash@example.com)  <br>[fully-qualified-domain@example.co.uk](mailto:fully-qualified-domain@example.co.uk)  <br>[user.name+tag+sorting@example.com](mailto:user.name+tag+sorting@example.com)  <br>[x@example.com](mailto:x@example.com)  <br>[example-indeed@strange-example.com](mailto:example-indeed@strange-example.com)  <br>admin@mailserver1  <br>[example@s.example](mailto:example@s.example)  <br>"much.more unusual"@example.com  <br>"[very.unusual.@.unusual.com](mailto:very.unusual.@.unusual.com)"@example.com  <br>"very.(),:;<>[]".VERY."very@\ "very".unusual"@strange.example.com  <br>postfix@com  <br>user%[example.com@example.org](mailto:example.com@example.org)  <br>[user-@example.org](mailto:user-@example.org)  <br>user@localhost  <br>user@[IPv6:2001:db8::1]  <br>[test.email+alex@leetcode.com](mailto:test.email+alex@leetcode.com)  <br>[test.e.mail+bob.cathy@leetcode.com](mailto:test.e.mail+bob.cathy@leetcode.com)  <br>[testemail+david@lee.tcode.com](mailto:testemail+david@lee.tcode.com)  <br>[john.doe@example.com](mailto:john.doe@example.com)  <br>[jane_doe123@example.net](mailto:jane_doe123@example.net)  <br>[info@my-website.net](mailto:info@my-website.net)  <br>[feedback@your-company.co.uk](mailto:feedback@your-company.co.uk)  <br>[hr@enterprise.io](mailto:hr@enterprise.io)  <br>[admin@server.local](mailto:admin@server.local)  <br>... | `[^\s@]+?@([^\s@]+?)(\.[^\s@]+)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                            | *Python*                |
| Bibtex file                                                                                                                                                                                                                                                                                                                                                               | @article{abeynayakeNeighborBalancedBipartiteBlock2011,<br>  title = {Neighbor-{{Balanced Bipartite Block Designs}}},<br>  author = {Abeynayake, N. R. and Jaggi, Seema and Varghese, Cini},<br>  year = {2011},<br>  month = nov,<br>  journal = {Communications in Statistics - Theory and Methods},<br>  volume = {40},<br>  number = {22},<br>  pages = {4041--4052},<br>  publisher = {Taylor \& Francis},<br>  issn = {0361-0926},<br>  doi = {10.1080/03610926.2010.505692},<br>  urldate = {2024-07-25},<br>  abstract = {This article deals with the neighbor-balanced block design setting when there are two disjoint sets of treatments, one set consisting of test treatments and the other of control treatments. The interest here is to estimate the contrasts pertaining to test treatments vs. control treatments (with respect to direct and neighbors) with as high precision as possible. Some series of neighbor-balanced block designs for comparing a set of test treatments to a set of control treatments have been developed. The designs obtained are totally balanced in the sense that all the contrasts among test treatments for direct and neighbor effects are estimated with same variance and all the contrasts pertaining to test vs. control for direct and neighbor effects are estimated with the same variance.},<br>  keywords = {62K10,Circular design,Control treatments,Direct effects,Neighbor effects,Test treatments,Totally balanced design}<br>}<br><br>@book{...etc...}                                                                                                                                                                                  | @(?P<sourcetype>book){\s*(?P<citekey>[^\s,]+),(?P<entries>[A-Za-z0-9\s={.,}\-\\\`':<>()\/$\";%~?*_]*})`<br><br>If you want to use a dynamic (with input by user) raw f-string in python you have to double all the braces, for example you can do something like:<br><br>```python<br>pattern=fr"@(?P<sourcetype>book){{\s*{citekey},(?P<entries>[A-Za-z0-9\s={{.,}}\-\\\`':<>()\/$\";%~?*_]*}})"<br>```<br><br>The following regex has two capturing groups: the first captures the "keys" of the bibtex entry, the second captures the "values" (if you want for example build a data structure like a dictionary out of it):<br><br>`(\w+)\s*=\s*[{]+?([^{}]*)[}]+`<br><br>For automatic reference automation with a .bib file.<br><br>Matches:<br><br>*The entire bibtex entry (e.g. @book{citekey,<br>first_entry = {value},<br>second_entry = {value}<br>third_entry...etc}<br>)*<br><br>*sourcetype* = match.group(sourcetype)  # e.g., "book" or "misc" or "article" (everything that comes after "@")<br><br>*citekey* = match.group(citekey)<br><br>*entries* = match.group(entries)<br><br>(matches all the entries of the specific object)<br><br>I personally use it with citekey as a filter to extract the data relative to the specific resource I want to refer to. |                                                                                                                                                                                                                                                                                                                                                                                                                            | *Python*                |
